<!DOCTYPE html><html style="display:none" lang="zh"><head><meta charset="utf-8"><script>window.materialVersion="1.5.2",window.oldVersion=["codestartv1","1.3.4","1.4.0","1.4.0b1","1.5.0"]</script><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://busuanzi.ibruce.info"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="renderer" content="webkit"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title> 大道至简--API设计的美学 | Mr.Han</title><link rel="icon shortcut" type="image/ico" href="/img/favicon.png"><link rel="icon" href="/img/favicon.png"><meta name="format-detection" content="telephone=no"><meta name="description" itemprop="description" content="api"><meta name="keywords" content="前端,全栈,vue.js,学习分享,front-end,api"><meta name="theme-color" content="#0097A7"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><!--[if lte IE 9]><link rel="stylesheet" href="/css/ie-blocker.css"><script src="/js/ie-blocker.zhCN.js"></script><![endif]--><script>window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}},lsloader.removeLS=function(e){try{localStorage.removeItem(e)}catch(e){}},lsloader.setLS=function(e,t){try{localStorage.setItem(e,t)}catch(e){}},lsloader.getLS=function(e){var t="";try{t=localStorage.getItem(e)}catch(e){t=""}return t},versionString="/*"+(window.materialVersion||"unknownVersion")+"*/",lsloader.clean=function(){try{for(var e=[],t=0;t<localStorage.length;t++)e.push(localStorage.key(t));e.forEach(function(e){var t=lsloader.getLS(e);window.oldVersion&&window.oldVersion.reduce(function(e,n){return e||-1!==t.indexOf("/*"+n+"*/")},!1)&&lsloader.removeLS(e)})}catch(e){}},lsloader.clean(),lsloader.load=function(e,t,n,s){var a;if("boolean"==typeof n&&(s=n,n=void 0),s=s||!1,n=n||function(){},(a=this.getLS(e))&&-1===a.indexOf(versionString))return this.removeLS(e),void this.requestResource(e,t,n,s);if(a){if(a.split(versionString)[0]!=t)return console.log("reload:"+t),this.removeLS(e),void this.requestResource(e,t,n,s);a=a.split(versionString)[1],s?(this.jsRunSequence.push({name:e,code:a}),this.runjs(t,e,a)):(document.getElementById(e).appendChild(document.createTextNode(a)),n())}else this.requestResource(e,t,n,s)},lsloader.requestResource=function(e,t,n,s){var a=this;s?this.iojs(t,e,function(e,t,n){a.setLS(t,e+versionString+n),a.runjs(e,t,n)}):this.iocss(t,e,function(n){document.getElementById(e).appendChild(document.createTextNode(n)),a.setLS(e,t+versionString+n)},n)},lsloader.iojs=function(e,t,n){var s=this;s.jsRunSequence.push({name:t,code:""});try{var a=new XMLHttpRequest;a.open("get",e,!0),a.onreadystatechange=function(){if(4==a.readyState){if((a.status>=200&&a.status<300||304==a.status)&&""!=a.response)return void n(e,t,a.response);s.jsfallback(e,t)}},a.send(null)}catch(n){s.jsfallback(e,t)}},lsloader.iocss=function(e,t,n,s){var a=this;try{var o=new XMLHttpRequest;o.open("get",e,!0),o.onreadystatechange=function(){if(4==o.readyState){if((o.status>=200&&o.status<300||304==o.status)&&""!=o.response)return n(o.response),void s();a.cssfallback(e,t,s)}},o.send(null)}catch(n){a.cssfallback(e,t,s)}},lsloader.iofonts=function(e,t,n,s){var a=this;try{var o=new XMLHttpRequest;o.open("get",e,!0),o.onreadystatechange=function(){if(4==o.readyState){if((o.status>=200&&o.status<300||304==o.status)&&""!=o.response)return n(o.response),void s();a.cssfallback(e,t,s)}},o.send(null)}catch(n){a.cssfallback(e,t,s)}},lsloader.runjs=function(e,t,n){if(t&&n)for(var s in this.jsRunSequence)this.jsRunSequence[s].name==t&&(this.jsRunSequence[s].code=n);if(this.jsRunSequence[0]&&this.jsRunSequence[0].code&&"failed"!=this.jsRunSequence[0].status)(a=document.createElement("script")).appendChild(document.createTextNode(this.jsRunSequence[0].code)),a.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(a),this.jsRunSequence.shift(),this.jsRunSequence.length>0&&this.runjs();else if(this.jsRunSequence[0]&&"failed"==this.jsRunSequence[0].status){var a,o=this;(a=document.createElement("script")).src=this.jsRunSequence[0].path,a.type="text/javascript",this.jsRunSequence[0].status="loading",a.onload=function(){o.jsRunSequence.shift(),o.jsRunSequence.length>0&&o.runjs()},document.body.appendChild(a)}},lsloader.tagLoad=function(e,t){this.jsRunSequence.push({name:t,code:"",path:e,status:"failed"}),this.runjs()},lsloader.jsfallback=function(e,t){if(!this.jsnamemap[t]){for(var n in this.jsnamemap[t]=t,this.jsRunSequence)this.jsRunSequence[n].name==t&&(this.jsRunSequence[n].code="",this.jsRunSequence[n].status="failed",this.jsRunSequence[n].path=e);this.runjs()}},lsloader.cssfallback=function(e,t,n){if(!this.cssnamemap[t]){this.cssnamemap[t]=1;var s=document.createElement("link");s.type="text/css",s.href=e,s.rel="stylesheet",s.onload=s.onerror=n;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(s,a)}},lsloader.runInlineScript=function(e,t){var n=document.getElementById(t).innerText;this.jsRunSequence.push({name:e,code:n}),this.runjs()}</script><script>function Queue(){this.dataStore=[],this.offer=function(e){this.debug&&console.log("Offered a Queued Function.");"function"==typeof e?this.dataStore.push(e):console.log("You must offer a function.")},this.poll=function(){this.debug&&console.log("Polled a Queued Function.");return this.dataStore.shift()},this.execNext=function(){var e=this.poll();void 0!==e&&(this.debug&&console.log("Run a Queued Function."),e())},this.debug=!1,this.startDebug=function(){this.debug=!0}}var queue=new Queue</script><style id="material_css"></style><script>void 0===window.lsLoadCSSMaxNums&&(window.lsLoadCSSMaxNums=0),window.lsLoadCSSMaxNums++,lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){void 0===window.lsLoadCSSNums&&(window.lsLoadCSSNums=0),window.lsLoadCSSNums++,window.lsLoadCSSNums==window.lsLoadCSSMaxNums&&(document.documentElement.style.display="")},!1)</script><style id="style_css"></style><script>void 0===window.lsLoadCSSMaxNums&&(window.lsLoadCSSMaxNums=0),window.lsLoadCSSMaxNums++,lsloader.load("style_css","/css/style.min.css?kdoEmPRZ5H80Zbt5/zdB/A==",function(){void 0===window.lsLoadCSSNums&&(window.lsLoadCSSNums=0),window.lsLoadCSSNums++,window.lsLoadCSSNums==window.lsLoadCSSMaxNums&&(document.documentElement.style.display="")},!1)</script><style>body,html{font-family:Roboto,"Helvetica Neue",Helvetica,"PingFang SC","Hiragino Sans GB","Microsoft YaHei","微软雅黑",Arial,sans-serif;overflow-x:hidden!important}code{font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace}a{color:#00838f}#scheme-Paradox .hot_tags-count,#scheme-Paradox .sidebar-colored .sidebar-badge,#scheme-Paradox .sidebar-colored .sidebar-header,#scheme-Paradox .sidebar_archives-count,#search-form-label:after,#search-label,.mdl-card__media{background-color:#0097a7!important}#scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus,#scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover{color:#0097a7!important}#ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a,#post_entry-right-info,.sidebar-colored .sidebar-nav li:hover>a,.sidebar-colored .sidebar-nav li:hover>a i,.sidebar-colored .sidebar-nav li>a:focus i,.sidebar-colored .sidebar-nav li>a:hover,.sidebar-colored .sidebar-nav li>a:hover i,.sidebar-colored .sidebar-nav>.open>a,.sidebar-colored .sidebar-nav>.open>a:focus,.sidebar-colored .sidebar-nav>.open>a:hover{color:#0097a7!important}.toTop{background:#757575!important}.material-layout .material-index>.material-nav,.material-layout .material-post>.material-nav,.material-nav a{color:#757575}#scheme-Paradox .MD-burger-layer{background-color:#757575}#scheme-Paradox #post-toc-trigger-btn{color:#757575}.post-toc a:hover{color:#00838f;text-decoration:underline}</style><style>body{background-image:url(/img/bg.png)}</style><style>.fade{transition:all .8s linear;-webkit-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);-o-transform:translate3d(0,0,0);transform:translate3d(0,0,0);opacity:1}.fade.out{opacity:0}</style><style>@font-face{font-family:Roboto;font-style:normal;font-weight:300;src:url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.eot);src:local('Roboto'),local('Roboto-Normal'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.eot?#iefix) format('embedded-opentype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.woff2) format('woff2'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.woff) format('woff'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.ttf) format('truetype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.svg#Roboto) format('svg')}@font-face{font-family:Roboto;font-style:normal;font-weight:regular;src:url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.eot);src:local('Roboto'),local('Roboto-Normal'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.eot?#iefix) format('embedded-opentype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.woff2) format('woff2'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.woff) format('woff'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.ttf) format('truetype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.svg#Roboto) format('svg')}@font-face{font-family:Roboto;font-style:normal;font-weight:500;src:url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.eot);src:local('Roboto'),local('Roboto-Normal'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.eot?#iefix) format('embedded-opentype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.woff2) format('woff2'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.woff) format('woff'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.ttf) format('truetype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.svg#Roboto) format('svg')}</style><style id="material_icons"></style><script>void 0===window.lsLoadCSSMaxNums&&(window.lsLoadCSSMaxNums=0),window.lsLoadCSSMaxNums++,lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){void 0===window.lsLoadCSSNums&&(window.lsLoadCSSNums=0),window.lsLoadCSSNums++,window.lsLoadCSSNums==window.lsLoadCSSMaxNums&&(document.documentElement.style.display="")},!1)</script><script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==",!0)</script><meta name="mobile-web-app-capable" content="yes"><meta name="application-name" content="Mr.Han"><meta name="msapplication-starturl" content="http://www.zary.top/the-best-API.html"><meta name="msapplication-navbutton-color" content="#0097A7"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Mr.Han"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon" href="/img/favicon.png"><meta property="og:url" content="http://www.zary.top/the-best-API.html"><meta property="og:type" content="blog"><meta property="og:title" content="大道至简--API设计的美学 | Mr.Han"><meta property="og:image" content="/img/favicon.png"><meta property="og:description" content="api"><meta property="og:article:tag" content="front-end"><meta property="og:article:tag" content="api"><meta property="article:published_time" content="Sun Mar 25 2018 18:00:00 GMT+0800"><meta property="article:modified_time" content="Sun Mar 25 2018 18:17:46 GMT+0800"><meta name="twitter:card" content="summary_large_image"><link rel="canonical" href="http://www.zary.top/the-best-API.html"><script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://www.zary.top/the-best-API.html",
    "headline": "大道至简--API设计的美学",
    "datePublished": "Sun Mar 25 2018 18:00:00 GMT+0800",
    "dateModified": "Sun Mar 25 2018 18:17:46 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "Fantasy",
        "image": {
            "@type": "ImageObject",
            "url": "/img/avatar.png"
        },
        "description": "Talk is cheap. show me your code."
    },
    "publisher": {
        "@type": "Organization",
        "name": "Mr.Han",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/favicon.png"
        }
    },
    "keywords": ",front-end,api前端,全栈,vue.js,学习分享",
    "description": "api",
}
</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?7f444c7b311c0c4af63562b00d750e1f";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><link rel="stylesheet" href="/css/prism.css" type="text/css"><link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body id="scheme-Paradox" class="lazy"><div class="material-layout mdl-js-layout has-drawer is-upgraded"><main class="material-layout__content" id="main"><div id="top"></div> <button class="MD-burger-icon sidebar-toggle"><span class="MD-burger-layer"></span></button> <button id="post-toc-trigger-btn" class="mdl-button mdl-js-button mdl-button--icon"> <i class="material-icons">format_list_numbered</i></button><ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh;overflow-y:scroll"><ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-前言"><span class="post-toc-number">1.</span> <span class="post-toc-text">1.前言</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-命名"><span class="post-toc-number">2.</span> <span class="post-toc-text">2.命名</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-1-正确拼写"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">2-1.正确拼写</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-2-注意单复数"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">2-2.注意单复数</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-3-用词准确"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">2-3.用词准确</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-3-1-单词意思搞错"><span class="post-toc-number">2.3.1.</span> <span class="post-toc-text">2-3-1.单词意思搞错</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-3-2-正反词义单词错用"><span class="post-toc-number">2.3.2.</span> <span class="post-toc-text">2-3-2.正反词义单词错用</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-4-命名意义"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">2-4.命名意义</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-5-命名格式"><span class="post-toc-number">2.5.</span> <span class="post-toc-text">2-5.命名格式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-6-处理中文拼音"><span class="post-toc-number">2.6.</span> <span class="post-toc-text">2-6.处理中文拼音</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-7-命名潜规则"><span class="post-toc-number">2.7.</span> <span class="post-toc-text">2-7.命名潜规则</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-参数"><span class="post-toc-number">3.</span> <span class="post-toc-text">3.参数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-1-const入参"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">3-1.const入参</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-2-控制参数数量"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">3-2.控制参数数量</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-3-前置相关性高的参数"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">3-3.前置相关性高的参数</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-作用"><span class="post-toc-number">4.</span> <span class="post-toc-text">4.作用</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-1-支持批量处理"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">4-1.支持批量处理</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-2-多态处理"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">4-2.多态处理</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-3-可扩展性"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">4-3.可扩展性</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-4-避免副作用"><span class="post-toc-number">4.4.</span> <span class="post-toc-text">4-4.避免副作用</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-向下兼容"><span class="post-toc-number">5.</span> <span class="post-toc-text">5.向下兼容</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#6-简单"><span class="post-toc-number">6.</span> <span class="post-toc-text">6.简单</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#7-小结"><span class="post-toc-number">7.</span> <span class="post-toc-text">7.小结</span></a></li></ol></ul><div class="material-post_container"><div class="material-post mdl-grid"><div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col"><div class="post_thumbnail-custom mdl-card__media mdl-color-text--grey-50" style="background-image:url(https://ws1.sinaimg.cn/mw690/0061FrMYgy1fpp88e1j6kj30qo0hp0wz.jpg)"><p class="article-headline-p"> 大道至简--API设计的美学</p></div><div class="mdl-color-text--grey-700 mdl-card__supporting-text meta"><div id="author-avatar"> <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"></div><div> <strong>Fantasy</strong> <span>3月 25, 2018</span></div><div class="section-spacer"></div> <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"> <i class="material-icons" role="presentation">bookmark</i> <span class="visuallyhidden">bookmark</span></button><ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button"><li class="mdl-menu__item"> <a class="post_tag-link" href="/tags/api/">api</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/front-end/">front-end</a></li></ul> <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"> <i class="material-icons" role="presentation">share</i> <span class="visuallyhidden">share</span></button><ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button"><a class="post_share-link" href="#"><li class="mdl-menu__item"><span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span> &nbsp;浏览量</span></li></a><a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=大道至简--API设计的美学&url=http://www.zary.top/the-best-API.html&pic=http://www.zary.top/img/favicon.png&searchPic=false&style=simple" target="_blank"><li class="mdl-menu__item"> 分享到微博</li></a><a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Mr.Han&title=大道至简--API设计的美学&summary=&pics=http://www.zary.top/img/favicon.png&url=http://www.zary.top/the-best-API.html" target="_blank"><li class="mdl-menu__item"> 分享到 QQ</li></a></ul></div><div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out"><blockquote><p>掘金上发现的一篇关于API设计的文章，很有启发 <a href="https://juejin.im/post/5aae8b4f5188255588052ffb" target="_blank" rel="noopener">原文地址</a></p></blockquote><a id="more"></a><h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1.前言"></a>1.前言</h2><p>对于前端开发而言，肯定会和API打交道，大家也都会想过怎么设计自己的API。优秀的 API 之于代码，就如良好内涵对于每个人。好的 API 不但利于使用者理解，开发时也会事半功倍，后期维护更是顺风顺水。至于怎么设计API，今天就提下我自己的一些建议。如果大家有什么好的想法，欢迎指点。</p><h2 id="2-命名"><a href="#2-命名" class="headerlink" title="2.命名"></a>2.命名</h2><p>良好的一个命名习惯，就是效率开发的第一步。如果命名规范，对自己而言，文件整理有很大的帮助，后期修改文件、可以快速的定位文件，命名规范，也显得自己专业。对团队而言，如果有统一的规范命名，交接时可以减少大量的学习和沟通成本。</p><p>关于命名，下面提点几个小建议</p><h3 id="2-1-正确拼写"><a href="#2-1-正确拼写" class="headerlink" title="2-1.正确拼写"></a>2-1.正确拼写</h3><p>这个应该说是命名的一个底线了，经常性出现，单词拼写错误，搞得自己或者团队的人都一头雾水的情况不再少数。我遇到情况比较深刻的有</p><table><thead><tr><th>中文大意</th><th>期望</th><th>实际</th></tr></thead><tbody><tr><td>表单</td><td>form</td><td>from</td></tr><tr><td>报名</td><td>sign-up</td><td>sign-in</td></tr><tr><td>采纳</td><td>adopt</td><td>adept</td></tr><tr><td>内容</td><td>content</td><td>contend</td></tr><tr><td>测试</td><td>test</td><td>text</td></tr><tr><td>联系</td><td>contact</td><td>contract</td></tr><tr><td>高度</td><td>height</td><td>heigth</td></tr><tr><td>宽度</td><td>width</td><td>widht</td></tr><tr><td>移动</td><td>mobile</td><td>moblie</td></tr><tr><td>标签</td><td>tab</td><td>tap</td></tr></tbody></table><p>这些单词，如果是拼写错误还好，至少编辑器都会提醒。但是如果写错了，但是单词又是正确的单词就可大可小了（表单，报名，采纳，内容这些例子，单词写错了，意思变了，但是单词是正确的，编辑器都不会提醒）。</p><p><strong>试过挖坑比较深的一次就是：一个活动，有报名，有签到的功能！处理方法如下</strong></p><p>获取已报名用户信息：getSignUpUserList，<br>重置报名的数据：resetSignUpUser，<br>提交报名操作：signInDo</p><p>获取已签到用户信息：getSignInUserList，<br>重置签到的表单数据：resetSignInUser，<br>提交签到的操作：signUpDo</p><p>修改bug的时候，完全懵逼了，原因大家懂的。</p><h3 id="2-2-注意单复数"><a href="#2-2-注意单复数" class="headerlink" title="2-2.注意单复数"></a>2-2.注意单复数</h3><p>所有涉及遍历，操作对象，数组,集合的函数，建议都采用复数。</p><blockquote><p>对于展现复数，不同公司有不同的习惯，但是得统一，比如产品列表-<code>productList</code>。这里用了list表示复数，再其它地方，就不建议使用<code>products</code>这种方式表示复数了</p></blockquote><h3 id="2-3-用词准确"><a href="#2-3-用词准确" class="headerlink" title="2-3.用词准确"></a>2-3.用词准确</h3><p>这个主要的两方面的内容</p><h4 id="2-3-1-单词意思搞错"><a href="#2-3-1-单词意思搞错" class="headerlink" title="2-3-1.单词意思搞错"></a>2-3-1.单词意思搞错</h4><p>比如弹窗上面的信息，有些时候见到，使用包含<code>notice</code>的字样，但是实际上，<code>notice</code>的中文意思，准确的应该是‘公告，告示，声明’之类。<br>一个弹窗这样的会话消息，建议使用<code>message</code>这个字样。<code>notice</code>应该像‘公告，告示，声明’之类的情况使用。</p><h4 id="2-3-2-正反词义单词错用"><a href="#2-3-2-正反词义单词错用" class="headerlink" title="2-3-2.正反词义单词错用"></a>2-3-2.正反词义单词错用</h4><p>比如关闭弹窗的方法，的方法是<code>closeDialog</code>，然后显示弹窗用的又是<code>showDialog</code>。<code>show</code>的意思是‘显示’，反义词应该是<code>hide</code>‘隐藏’。而<code>close</code>意思是关闭，反义词应该是<code>open</code>。</p><p>附常用反义词组（有些带缩写）</p><table><thead><tr><th>in</th><th>out</th></tr></thead><tbody><tr><td>on</td><td>off</td></tr><tr><td>prev</td><td>next</td></tr><tr><td>show</td><td>hide</td></tr><tr><td>close</td><td>open</td></tr><tr><td>success</td><td>fail</td></tr><tr><td>before</td><td>after</td></tr><tr><td>begin</td><td>end</td></tr></tbody></table><h3 id="2-4-命名意义"><a href="#2-4-命名意义" class="headerlink" title="2-4.命名意义"></a>2-4.命名意义</h3><p>这一块，本来打算放在2-2里面讲的，因为命名如果有意义也是一个底线。但是最后放在这里，是因为这个情况在函数里面出现得不多，更多应该出现在普通变量里面(相信很多人会遇到过这样的命名：var n1,n2,n3;)。关于命名，还是建议大家要起有意义名称，不使用没意义的命名。</p><p>遇到最多的情况，就是图标的命名方面。</p><p>比如下面的图标（选自某平台的底部导航栏），点击不同的图标出发不同的方法。</p><p><img src="https://user-gold-cdn.xitu.io/2018/3/19/1623babeea60d8a7?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p><p>很多人喜欢下面的命名</p><pre><code>//版本1
function handle1(){

}
function handle2(){

}
//版本2
function handleA(){

}
function handleB(){

}
//版本3
function handleOne(){

}
function handleTwo(){

}

</code></pre><p>这样的命名，别人函数了，就算是元素的 class 。这样的命名在后期维护绝对增加了难度。甚至可能导致重构。</p><p>建议的姿势</p><pre><code>function handleHome(){

}
function handleCollect(){

}


</code></pre><h3 id="2-5-命名格式"><a href="#2-5-命名格式" class="headerlink" title="2-5.命名格式"></a>2-5.命名格式</h3><p>文章说的API，主要针对的是函数，但是在这一小块里面，也列举一下其它的目标的建议命名方式。</p><table><thead><tr><th>待命名对象</th><th>推荐名称</th></tr></thead><tbody><tr><td>图片</td><td>‘-’ ‘_’ 分割</td></tr><tr><td>class,id</td><td>‘-’ 分割</td></tr><tr><td>文件，变量</td><td>驼峰命名</td></tr><tr><td>临时变量</td><td>‘_’ 开头，驼峰命名</td></tr></tbody></table><h3 id="2-6-处理中文拼音"><a href="#2-6-处理中文拼音" class="headerlink" title="2-6.处理中文拼音"></a>2-6.处理中文拼音</h3><p>对于中文拼音，应该说只有一种情况，被中国人创造出来，没有英文翻译的。</p><table><thead><tr><th>命名</th><th>含义</th></tr></thead><tbody><tr><td>taobao</td><td>淘宝</td></tr><tr><td>weibo</td><td>微博</td></tr><tr><td>zongzi</td><td>粽子</td></tr><tr><td>pinyin</td><td>拼音</td></tr></tbody></table><blockquote><p>在一年多以前，遇到一个中二的命名-dengluDo。当时一直不知道是什么玩意，后来向那个人打听才知道，是执行登录的操作，denglu是中文拼音，do又是英文，这样的命名。后期如果维护，他不哭，算我输。</p></blockquote><h3 id="2-7-命名潜规则"><a href="#2-7-命名潜规则" class="headerlink" title="2-7.命名潜规则"></a>2-7.命名潜规则</h3><p>有些情况，给特定的对象命名，还要用特定的名字，可以说是潜规则吧。印象最清楚的就是给按钮命名要么全拼，要么写btn。很清楚的记得我一个老师说过：写but，bto的程序也能正常运行，也没人说你错，但是我做面试官，就是不录用你，就说你不专业。</p><table><thead><tr><th>待命名对象</th><th>推荐名称</th><th>错误示范</th></tr></thead><tbody><tr><td>按钮</td><td>btn</td><td>but bto</td></tr><tr><td>背景</td><td>bg</td><td>back background</td></tr><tr><td>模板</td><td>tpl</td><td>tem</td></tr><tr><td>提示信息</td><td>msg</td><td>mes</td></tr><tr><td>标签栏</td><td>tab</td><td>tit</td></tr><tr><td>网站大图（广告宣传图）</td><td>banner</td><td>ban</td></tr><tr><td>注册</td><td>register</td><td>sign-in</td></tr></tbody></table><h2 id="3-参数"><a href="#3-参数" class="headerlink" title="3.参数"></a>3.参数</h2><p>对于函数而言，参数是用户设置最频繁，也是最关心的部分，合理设计函数参数，这一步很重要，直接影响函数的使用。</p><h3 id="3-1-const入参"><a href="#3-1-const入参" class="headerlink" title="3-1.const入参"></a>3-1.const入参</h3><p>这个应该说是一个习惯吧，不要直接改变入参的值。这个规则的初衷是解决函数副作用问题。如果参数是一个引用类型的数据，如果在函数内修改了参数，到时候将会使得原本的数据发生改变，往往会发生难以追踪的问题。</p><h3 id="3-2-控制参数数量"><a href="#3-2-控制参数数量" class="headerlink" title="3-2.控制参数数量"></a>3-2.控制参数数量</h3><p>参数的数量，个人建议就是，超过3个，使用对象进行封装。因为如果API参数越多，那么使用对于这个API的记忆成本就越大，易用性也很受影响。</p><p>比如下面的例子：</p><pre><code>encryptStr: function (str, regArr, type, replacement) {
    var regtext = &#39;&#39;,
        Reg = null,
        _type=type||0,
        replaceText = replacement || &#39;*&#39;;
    //ecDo.encryptStr(&#39;18819322663&#39;,[3,5,3],0)
    //result：188*****663
    //repeatStr是在上面定义过的（字符串循环复制），大家注意哦
    if (regArr.length === 3 &amp;&amp; type === 0) {
        regtext = &#39;(\\w{&#39; + regArr[0] + &#39;})\\w{&#39; + regArr[1] + &#39;}(\\w{&#39; + regArr[2] + &#39;})&#39;
        Reg = new RegExp(regtext);
        var replaceCount = this.repeatStr(replaceText, regArr[1]);
        return str.replace(Reg, &#39;$1&#39; + replaceCount + &#39;$2&#39;)
    }
    //ecDo.encryptStr(&#39;asdasdasdaa&#39;,[3,5,3],1)
    //result：***asdas***
    else if (regArr.length === 3 &amp;&amp; type === 1) {
        regtext = &#39;\\w{&#39; + regArr[0] + &#39;}(\\w{&#39; + regArr[1] + &#39;})\\w{&#39; + regArr[2] + &#39;}&#39;
        Reg = new RegExp(regtext);
        var replaceCount1 = this.repeatStr(replaceText, regArr[0]);
        var replaceCount2 = this.repeatStr(replaceText, regArr[2]);
        return str.replace(Reg, replaceCount1 + &#39;$1&#39; + replaceCount2)
    }
    //ecDo.encryptStr(&#39;1asd88465asdwqe3&#39;,[5],0)
    //result：*****8465asdwqe3
    else if (regArr.length === 1 &amp;&amp; type === 0) {
        regtext = &#39;(^\\w{&#39; + regArr[0] + &#39;})&#39;
        Reg = new RegExp(regtext);
        var replaceCount = this.repeatStr(replaceText, regArr[0]);
        return str.replace(Reg, replaceCount)
    }
    //ecDo.encryptStr(&#39;1asd88465asdwqe3&#39;,[5],1,&#39;+&#39;)
    //result：&quot;1asd88465as+++++&quot;
    else if (regArr.length === 1 &amp;&amp; type === 1) {
        regtext = &#39;(\\w{&#39; + regArr[0] + &#39;}$)&#39;
        Reg = new RegExp(regtext);
        var replaceCount = this.repeatStr(replaceText, regArr[0]);
        return str.replace(Reg, replaceCount)
    }
}

</code></pre><p>大家可以看上面的注释，就知道这段代码的具体作用了，如果想想就找个参数，我必须要除了记得4个参数的作用，还要记得参数的顺序。</p><p>如果使用对象记录参数，用户只需要记得4个参数的作用，不需要记参数的顺序。</p><pre><code>encryptStr: function (obj) {
        var _default={
            type:0,
            replacement:&#39;*&#39;
        };
        for(var key in obj){
            _default[key]=obj[key];
        }
},

//调用方式
ecDo.encryptStr({str:&#39;18819266335&#39;,regArr:[5],type:0,replacement:&#39;-&#39;});

</code></pre><p>这样还有一个好处就是，比如像刚才的函数，type这个参数，我想保留默认值，偷懒不传。原来的方案，就得这样传。</p><pre><code>ecDo.encryptStr(&#39;1asd88465asdwqe3&#39;,[5],&#39;&#39;,&#39;+&#39;);

</code></pre><p>这样肯定是会激起不少有代码洁癖的开发者，比如我。如果使用对象，就很好避免了。</p><pre><code>ecDo.encryptStr({str:&#39;18819266335&#39;,regArr:[5],replacement:&#39;-&#39;});

</code></pre><h3 id="3-3-前置相关性高的参数"><a href="#3-3-前置相关性高的参数" class="headerlink" title="3-3.前置相关性高的参数"></a>3-3.前置相关性高的参数</h3><p>这个应该没什么可能，就一个意思：必填重要的参数前置，可省略的参数后置。</p><p>比如下面的例子</p><pre><code>/格式化处理字符串
//ecDo.formatText(&#39;1234asda567asd890&#39;)
//result：&quot;12,34a,sda,567,asd,890&quot;
//ecDo.formatText(&#39;1234asda567asd890&#39;,4,&#39; &#39;)
//result：&quot;1 234a sda5 67as d890&quot;
//ecDo.formatText(&#39;1234asda567asd890&#39;,4,&#39;-&#39;)
//result：&quot;1-234a-sda5-67as-d890&quot;
formatText: function (str, size, delimiter) {
    var _size = size || 3, _delimiter = delimiter || &#39;,&#39;;
    var regText = &#39;\\B(?=(\\w{&#39; + _size + &#39;})+(?!\\w))&#39;;
    var reg = new RegExp(regText, &#39;g&#39;);
    return str.replace(reg, _delimiter);
},

</code></pre><p>调用大家都看得出来。如果API这样设计</p><pre><code>formatText: function (size, delimiter, str) {
    var _size = size || 3, _delimiter = delimiter || &#39;,&#39;;
    var regText = &#39;\\B(?=(\\w{&#39; + _size + &#39;})+(?!\\w))&#39;;
    var reg = new RegExp(regText, &#39;g&#39;);
    return str.replace(reg, _delimiter);
},
</code></pre><p>就得这样调用，如果这样写API，被批斗的可能性很大！</p><pre><code>ecDo.formatText(&#39;&#39;,&#39;&#39;,&#39;1234asda567asd890&#39;)

</code></pre><h2 id="4-作用"><a href="#4-作用" class="headerlink" title="4.作用"></a>4.作用</h2><h3 id="4-1-支持批量处理"><a href="#4-1-支持批量处理" class="headerlink" title="4-1.支持批量处理"></a>4-1.支持批量处理</h3><p>比如这个例子，页面有这样的元素</p><pre><code>&lt;div class=&quot;div1&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;div1&quot;&gt;&lt;/div&gt;
&lt;div id=&quot;div2&quot;&gt;&lt;/div&gt;
</code></pre><p>有一个类似jQuery的css这个API的API。</p><pre><code>css: function (dom, json) {
    for (var attr in json) {
        dom.style[attr] = json[attr];
    }
}
</code></pre><p>然后给这些div设置样式的时候，代码如下</p><pre><code>var oDiv1 =document.querySelectorAll(&quot;.div1&quot;);
var oDiv2=document.querySelector(&quot;#div1&quot;);
ecDo.css(oDiv2,{&#39;height&#39;:&#39;100px&#39;,&#39;width&#39;:&#39;100px&#39;,&#39;background&#39;:&#39;#333&#39;});
ecDo.css(oDiv1,{&#39;height&#39;:&#39;100px&#39;,&#39;width&#39;:&#39;100px&#39;,&#39;background&#39;:&#39;#09f&#39;});
</code></pre><p>当运行到<code>ecDo.css(oDiv1,{&#39;height&#39;:&#39;100px&#39;,&#39;width&#39;:&#39;100px&#39;,&#39;background&#39;:&#39;#09f&#39;});</code>会提示报错，原因大家也知道。css这个API里面，只处理了单个元素，并没有处理元素的集合。</p><p>建议的方式是把 css 这个API改成可批量处理元素集合的。</p><pre><code>css: function (dom, json) {
    if (dom.length) {
        for (var i = 0; i &lt; dom.length; i++) {
            for (var attr in json) {
                dom[i].style[attr] = json[attr];
            }
        }
    }
    else {
        for (var attr in json) {
            dom.style[attr] = json[attr];
        }
    }
},    

</code></pre><h3 id="4-2-多态处理"><a href="#4-2-多态处理" class="headerlink" title="4-2.多态处理"></a>4-2.多态处理</h3><p>一个类似jQuery的html这个API的API-html</p><p>之前遇到一个开发者的处理方式是：获取元素的innerHTML和设置元素innerHTML分开为两个方法-getHtml，setHtml。这样的问题又在于记忆的成本比原生的 innerHTML 还要高。建议的姿势就是，获取和设置用同一个API。</p><pre><code>html: function (dom) {
    if (arguments.length === 1) {
        return dom.innerHTML;
    } else if (arguments.length === 2) {
        dom.innerHTML = arguments[1];
    }
}

ecDo.html(oDiv);//获取
ecDo.html(oDiv,&#39;守候&#39;);//设置

</code></pre><h3 id="4-3-可扩展性"><a href="#4-3-可扩展性" class="headerlink" title="4-3.可扩展性"></a>4-3.可扩展性</h3><p>可扩展性，就是建议遵守开放-封闭原则。对扩展开放，对修改关闭。比如jQuery的$.fn和$.fn.extend()。</p><p>说一个简单的例子-计算加薪额度</p><pre><code>var addMoney = (function () {
    //定义策略类
    var strategies = {
        A:function(money){
            return money + 2000;
        },
        B:function(money){
            return money + 1000;
        }
    };
    //暴露接口
    return {
        //根据等级和现工资，输入加薪后的工资
        compute:function(lv,money){
            return strategies[lv](money)
        }
    };
})();

//比如：等级为A，5000+2000
console.log(addMoney.compute(&#39;A&#39;,5000))//7000
//比如：等级为B，20000+1000
console.log(addMoney.compute(&#39;B&#39;,20000))//21000

</code></pre><p>代码看着没有问题，但是如果以后需求要增加C等级呢？这就不得不修改strategies。在里面增加方法。<br>如下</p><pre><code>var strategies = {
    A:function(money){
        return money + 2000;
    },
    B:function(money){
        return money + 1000;
    },
    C:function(money){
        return money + 500;
    }
};
</code></pre><p>这样实现也简单，如果以后要增加S等级呢？又得改strategies。这里还有一个问题就是，如果增加的C等级只有在A模块需要用到，在B模块不会出现，那么在B模块引用addMoney的时候，又会把C等级的计算方式也引入进去，造成不必要的资源浪费。<br>建议的方式是，设置一个接口，扩展strategies。</p><pre><code>var addMoney = (function () {
    //定义策略类
    let strategies = {
        A:function(money){
            return money + 2000;
        },
        B:function(money){
            return money + 1000;
        }
    };
    //暴露接口
    return {
        //根据等级和现工资，输入加薪后的工资
        compute:function(lv,money){
            return strategies[lv](money)
        },
        //扩展等级
        addRule:function(lv,fn){
            strategies[lv]=fn;
        }
    };
})();
//增加C等级的调用
addMoney.addRule(&#39;C&#39;,function(money){
    return money + 500;
});
console.log(addMoney.compute(&#39;C&#39;,20000))//20500    
</code></pre><h3 id="4-4-避免副作用"><a href="#4-4-避免副作用" class="headerlink" title="4-4.避免副作用"></a>4-4.避免副作用</h3><p>函数的副作用，相信很多人都会遇到过，比如在一个函数体内修改一个外部作用域的变量，或者全局变量，在函数体内修改引用类型的参数，这些情况多少都会遇到过。</p><p>如何避免呢？主要是以下两个写代码习惯。</p><p>1.函数体内可以使用参数，进行操作，但是不能修改。如果修改，用一个临时变量记录参数（如果是引用类型，需要用深拷贝记录）。这样可以避免直接修改参数。</p><p>2.对于函数外的变量，如全局变量。函数体内可以访问，但是不能修改。</p><p>3.如果需要给函数外的变量赋值，不能在函数体内操作，把值返回到外部，在外部进行赋值。（感觉这里有点啰嗦，因为赋值了，就是修改了外部变量，就违反了第二点）。</p><pre><code>//不好做法
var myName=&#39;&#39;;
function setName(firstName,lastName){
    myName=firstName+lastName;
}
setName(&#39;守&#39;,&#39;侯&#39;);
//推荐做法
var myName=&#39;&#39;;
function setName(firstName,lastName){
    return firstName+lastName;
}
myName=setName(&#39;守&#39;,&#39;侯&#39;);



</code></pre><h2 id="5-向下兼容"><a href="#5-向下兼容" class="headerlink" title="5.向下兼容"></a>5.向下兼容</h2><p>这个建议主要就是为了兼顾以前的写法。还是拿上面的那个例子吧！<br>原本传参方式是这样</p><pre><code>encryptStr: function (str, regArr, type, replacement) {};
</code></pre><p>后来升级改成这样</p><pre><code>encryptStr: function (obj){}
</code></pre><p>这样问题就来了，一个项目里面，因为历史的原因难免会使用这个API，并且使用了第一种方式传参。现在API改了，解决的方案有两个，要么把整个项目使用的这个API的方式，都改成第二种的传参方式，要么就是对接口进行向下兼容，兼容以前的方案。</p><pre><code>encryptStr: function (obj) {
    var _default={
        type:0,
        replacement:&#39;*&#39;
    };
    //如果还是以之前的方式调用函数，兼容性判断
    if(arguments.length&gt;1){
        _default.str=arguments[0];
        _default.regArr=arguments[1];
        _default.type=arguments[2]||0;
        _default.replacement=arguments[3]||&#39;*&#39;;
    }
    else{
        for(var key in obj){
            _default[key]=obj[key];
        }
    }
    //下面代码略
},
</code></pre><blockquote><p>如果API已经准备来一个大版本的更新，（比如从1.0.0升级到2.0.0，不是1.0.0升级到1.0.1，或者1.0.0升级到1.1.0）。不打算兼容以前的版本了。可以忽略这一步，毕竟兼容性的代码可能也很多。</p></blockquote><h2 id="6-简单"><a href="#6-简单" class="headerlink" title="6.简单"></a>6.简单</h2><p>这一步可以说是API设计最高级的一步，也是最难开发的一步，这就是为什么这篇文章会带有‘大道至简’的字样，即使API的实现很难，但使用起来简单感觉就是高级的API。这一步也直接影响API的好用与否。简单的API不但是用起来简单，试试可以一看就懂的API。这样的API更易理解、记忆、调试和变更使用方式。</p><p>原生的API，比如Date，some、map、find等所有数组遍历操作函数，es6提供的Object.assign，Object.keys，Object.values等。</p><p>曾经的霸主jQuery，现在的王者react，黑马vue。这些项目让人拍手称赞的原因虽然有很多，但也不可否认的，那便是它们的API设计非常的巧妙。如：jQuery的$,siblings,toogleClass,animate等，react的cloneElement,replaceProps等，vue的nextTick,set等。</p><blockquote><p>jQuery对于现在而言，虽然是过时了，但里面的知识还是值得学习，比如使用的淋漓尽致的 js 写作技巧，设计模式，以及 API 设计等。</p></blockquote><p>自己写的API，我也是把API写得尽量的简单，最高境界就是让别人扫一眼文档，就知道记牢了API的使用方式。这个是我追求的目标，只是现在距离还是有点远。大家看我<code>encryptStr</code>这个API就知道（此处尴尬一天）。</p><h2 id="7-小结"><a href="#7-小结" class="headerlink" title="7.小结"></a>7.小结</h2><p>在我的眼里，一个好的API，会有一个一看就懂的名字，一个强大的功能，一个简单的调用方式。虽然只有三个条件，但是这三个条件结合起来，可不是那么容易做到的。一个好的API，无论是对自己，对团队，对项目开发都是一个很好的帮助。</p><p>对于设计API的一些个人建议，就到这里了，如果以后有更好的想法，会第一时间分享，和大家交流意见。如果大家有什么想法，欢迎指点迷津。</p></div></div><nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col"><div class="section-spacer"></div> <a href="/webpack-note.html" id="post_nav-older" class="next-content">旧篇 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation"> <i class="material-icons">arrow_forward</i></button></a></nav></div></div><div class="sidebar-overlay"></div><aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation"><div id="sidebar-main"><div class="sidebar-header header-cover" style="background-image:url(https://ws1.sinaimg.cn/mw690/0061FrMYgy1foloewh5eqj318g18gqj6.jpg)"><div class="top-bar"></div> <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display:initial" data-upgraded=",MaterialButton,MaterialRipple"> <i class="material-icons">clear_all</i><span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></button><div class="sidebar-image"> <img src="/img/avatar.png" alt="Fantasy's avatar"></div> <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">fantasy_han@163.com<b class="caret"></b></a></div><ul class="nav sidebar-nav"><li class="dropdown"><ul id="settings-dropdown" class="dropdown-menu"><li> <a href="Mailto:fantasy_han@163.com" target="_blank" title="Email Me"><i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i> Email Me</a></li></ul></li><li id="sidebar-first-li"> <a href="/"><i class="material-icons sidebar-material-icons">home</i> 主页</a></li><li class="dropdown"> <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown"><i class="material-icons sidebar-material-icons">timeline</i> 归档<b class="caret"></b></a><ul class="dropdown-menu"><li> <a class="sidebar_archives-link" href="/archives/2018/03/">三月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/02/">二月 2018<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/01/">一月 2018<span class="sidebar_archives-count">3</span></a></li></ul></li><li class="dropdown"> <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown"><i class="material-icons sidebar-material-icons">chrome_reader_mode</i> 分类<b class="caret"></b></a><ul class="dropdown-menu"><li> <a class="sidebar_archives-link" href="/categories/api/">api<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/blog/">blog<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/interview/">interview<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/linux/">linux<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/markdown/">markdown<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/note/">note<span class="sidebar_archives-count">2</span></a></li></ul></li><li> <a href="/tags" title="标签云"><i class="material-icons sidebar-material-icons">cloud_circle</i> 标签云</a></li><li class="divider"></li><li> <a href="/timeline" title="时间轴"><i class="material-icons sidebar-material-icons">send</i> 时间轴</a></li><li> <a href="/about" title="关于我"><i class="material-icons sidebar-material-icons">person_pin</i> 关于我</a></li><li class="divider"></li><li> <a href="/archives">文章总数 <span class="sidebar-badge">8</span></a></li></ul></div></aside><div id="back-to-top" class="toTop-wrap"> <a href="#top" class="toTop"><i class="material-icons footer_top-i">expand_less</i></a></div><footer class="mdl-mini-footer" id="bottom"><div class="mdl-mini-footer--left-section sns-list"> <a href="https://weibo.com/u/5521451600" target="_blank"><button class="mdl-mini-footer--social-btn social-btn footer-sns-weibo"> <span class="visuallyhidden">Weibo</span></button></a></div><div id="copyright"> Copyright&nbsp;© &nbsp; 2017&nbsp;-<script type="text/javascript">var fd=new Date;document.write("&nbsp;"+fd.getFullYear()+"&nbsp;")</script> Mr.Han</div><div class="mdl-mini-footer--right-section"><div><div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div><div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div><p>Hosted by <a href="https://pages.coding.me" style="font-weight:700">Coding Pages</a></p></div></div></footer><script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==",!0)</script><script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==",!0)</script><script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==",!0)</script><script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>var agent=navigator.userAgent.toLowerCase();agent.indexOf("ucbrowser")>0&&(document.write('<link rel="stylesheet" href="/css/uc.css">'),alert("由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。"))</script><script>lsloader.load("hanabi","/js/hanabi-browser-bundle.js?Pki5+pzkluqu53g+ouMWpA==",!0)</script><script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
    
        
        
        HanabiBrowser.start('pre code',true);
    
</script><script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script><script>!function(){for(var e=document.querySelectorAll('script[type="text/ls-javascript"]'),r=0;r<e.length;++r){var o=e[r];lsloader.runInlineScript(o.id,o.id)}}(),console.log("\n %c © Material Theme | Version: 1.5.2 | https://github.com/viosey/hexo-theme-material %c \n","color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;","color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;")</script></main></div></body></html>